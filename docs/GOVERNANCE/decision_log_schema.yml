---
project: Career Intelligence Space
type: decision_log_schema
status: active
tags: [decision_log, c6_protection, evidence_entropy_prevention, provenance]
updated: 2025-01-10
schema_version: v1
enforcement_level: blocking
---

# Decision Log Schema: C6 Evidence Entropy Prevention

## üéØ Purpose

**C6 Evidence Entropy is prevented through immutable decision logs.** Every decision must be externalized with complete provenance to prevent information loss and ensure recoverability.

## üö® Constitutional Requirements

### **Non-Negotiable Fields**
Every decision log entry must contain:

| Field | Type | Required | Purpose | Example |
|-------|------|----------|---------|---------|
| `decision_id` | string | ‚úÖ | Unique identifier | `DEC_2025-01-10_001` |
| `rationale` | string | ‚úÖ | Human reasoning | `"Chose LinkedIn over Indeed for better API access"` |
| `evidence_sources` | array | ‚úÖ | Supporting evidence | `["linkedin_api_docs", "indeed_rate_limits"]` |
| `human_approval` | boolean | ‚úÖ | Human confirmation | `true` |
| `timestamp` | string | ‚úÖ | Decision time | `2025-01-10T14:30:00Z` |
| `provenance` | object | ‚úÖ | Source lineage | `{"source": "human_review", "reviewer": "johnwade"}` |

### **Optional Fields**
Additional context and metadata:

| Field | Type | Purpose | Example |
|-------|------|---------|---------|
| `impact_score` | number | Decision importance | `8` |
| `risk_level` | string | Decision risk | `"medium"` |
| `rollback_plan` | string | Recovery strategy | `"Revert to Indeed API if LinkedIn fails"` |
| `stakeholders` | array | Affected parties | `["career_coaching", "mcp_integration"]` |
| `dependencies` | array | Related decisions | `["DEC_2025-01-09_003"]` |

## üìã Schema Validation

### **Required Schema**
```yaml
decision_log_entry:
  type: object
  required:
    - decision_id
    - rationale
    - evidence_sources
    - human_approval
    - timestamp
    - provenance
  properties:
    decision_id:
      type: string
      pattern: '^DEC_\d{4}-\d{2}-\d{2}_\d{3}$'
    rationale:
      type: string
      minLength: 10
    evidence_sources:
      type: array
      minItems: 1
      items:
        type: string
    human_approval:
      type: boolean
    timestamp:
      type: string
      format: date-time
    provenance:
      type: object
      required:
        - source
        - reviewer
      properties:
        source:
          type: string
          enum: ["human_review", "ai_assistance", "automated"]
        reviewer:
          type: string
        review_date:
          type: string
          format: date-time
```

### **Validation Rules**
```yaml
validation_rules:
  decision_id_format: "DEC_YYYY-MM-DD_NNN"
  rationale_min_length: 10
  evidence_sources_min_count: 1
  human_approval_required: true
  timestamp_iso_format: true
  provenance_complete: true
```

## üîß Implementation Examples

### **Career Coaching Decision**
```yaml
---
decision_id: DEC_2025-01-10_001
rationale: "Chose LinkedIn API over Indeed for career coaching integration due to better rate limits and more comprehensive job data"
evidence_sources:
  - "linkedin_api_documentation"
  - "indeed_rate_limit_analysis"
  - "job_data_comparison_study"
human_approval: true
timestamp: 2025-01-10T14:30:00Z
provenance:
  source: "human_review"
  reviewer: "johnwade"
  review_date: 2025-01-10T14:30:00Z
impact_score: 8
risk_level: "medium"
rollback_plan: "Revert to Indeed API if LinkedIn integration fails"
stakeholders:
  - "career_coaching"
  - "mcp_integration"
  - "linkedin_tools"
dependencies:
  - "DEC_2025-01-09_003"
---
```

### **MCP Tool Integration Decision**
```yaml
---
decision_id: DEC_2025-01-10_002
rationale: "Added human approval gate for outreach.send_message tool to prevent unauthorized external communications"
evidence_sources:
  - "mcp_security_analysis"
  - "outreach_tool_risk_assessment"
  - "human_gate_requirements"
human_approval: true
timestamp: 2025-01-10T15:45:00Z
provenance:
  source: "human_review"
  reviewer: "johnwade"
  review_date: 2025-01-10T15:45:00Z
impact_score: 9
risk_level: "high"
rollback_plan: "Remove human approval gate if it blocks legitimate use cases"
stakeholders:
  - "outreach_tools"
  - "mcp_security"
  - "human_gates"
dependencies: []
---
```

### **Vocabulary Enforcement Decision**
```yaml
---
decision_id: DEC_2025-01-10_003
rationale: "Added 'Career Intelligence Space (CIS)' to ontology to prevent vocabulary drift from 'career repo'"
evidence_sources:
  - "vocabulary_drift_analysis"
  - "ontology_requirements"
  - "c3_protection_necessity"
human_approval: true
timestamp: 2025-01-10T16:00:00Z
provenance:
  source: "human_review"
  reviewer: "johnwade"
  review_date: 2025-01-10T16:00:00Z
impact_score: 10
risk_level: "critical"
rollback_plan: "Remove ontology enforcement if it blocks legitimate development"
stakeholders:
  - "ontology_enforcement"
  - "c3_protection"
  - "vocabulary_management"
dependencies: []
---
```

## üõ°Ô∏è Enforcement Rules

### **Blocking Conditions**
Commits are blocked if decision logs are missing:

```yaml
blocking_conditions:
  - missing_decision_id: true
  - missing_rationale: true
  - missing_evidence_sources: true
  - missing_human_approval: true
  - missing_timestamp: true
  - missing_provenance: true
  - invalid_decision_id_format: true
  - rationale_too_short: true
  - no_evidence_sources: true
  - human_approval_false: true
  - invalid_timestamp_format: true
  - incomplete_provenance: true
```

### **Validation Script**
```python
# scripts/decision_log_validator.py
def validate_decision_logs():
    """Block commits without proper decision logging"""
    required_fields = [
        'decision_id', 'rationale', 'evidence_sources', 
        'human_approval', 'timestamp', 'provenance'
    ]
    
    for file_path in Path('.').rglob('*decision*.md'):
        if not validate_decision_log_file(file_path, required_fields):
            return False
    return True
```

## üìä Compliance Monitoring

### **Decision Log Metrics**
```yaml
metrics:
  decision_log_completeness: "percentage of decisions with full provenance"
  human_approval_rate: "percentage of decisions with human approval"
  evidence_source_count: "average evidence sources per decision"
  decision_frequency: "decisions per day/week/month"
  rollback_plan_coverage: "percentage of decisions with rollback plans"
```

### **Reporting**
```yaml
reporting:
  frequency: "daily"
  format: "markdown"
  location: "docs/metrics/decision_log_compliance.md"
  alerts:
    - missing_decision_logs
    - incomplete_provenance
    - human_approval_bypass
    - evidence_source_gaps
```

## üéØ Success Criteria

**Decision Log Schema is working when:**
- All decisions have complete provenance
- Human approval is required for critical decisions
- Evidence sources are documented and verifiable
- Rollback plans exist for major changes
- Decision lineage is traceable and recoverable

---

**Decision logs prevent evidence entropy. Every decision must be externalized with provenance.** üõ°Ô∏è
